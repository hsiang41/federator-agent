package influx_federmeter

import (
	"testing"
	"encoding/json"
	"github.com/containers-ai/federatorai-agent/pkg/fedemeter"
	"fmt"
	"github.com/containers-ai/federatorai-agent/pkg/utils"
	"github.com/golang/protobuf/ptypes"
	"github.com/golang/protobuf/ptypes/timestamp"
)


func TestInfluxMeasurement_GetWriteRequest_Instance(t *testing.T) {
	var fedCalResp fedemeter.FedCalculatorResp
	err := json.Unmarshal([]byte(calculator_response), &fedCalResp)
	if err != nil {
		t.Fatal(err)
	}

	tm := ptypes.TimestampNow()
	iMes := NewInfluxMeasurement("alameda_fedemeter", 0, nil, nil, &fedCalResp, 3600, false)
	rawWriteReq, err := iMes.GetWriteRequest(&timestamp.Timestamp{Seconds: tm.Seconds, Nanos: tm.Nanos})
	if err != nil {
		t.Fatal(err)
	}
	fmt.Println(utils.InterfaceToString(rawWriteReq))
}

func TestInfluxMeasurement_GetWriteRequest_Storage(t *testing.T) {
	var fedCalResp fedemeter.FedCalculatorResp
	err := json.Unmarshal([]byte(calculator_response), &fedCalResp)
	if err != nil {
		t.Fatal(err)
	}

	tm := ptypes.TimestampNow()
	iMes := NewInfluxMeasurement("alameda_fedemeter", 1, nil, nil, &fedCalResp, 3600, false)
	rawWriteReq, err := iMes.GetWriteRequest(&timestamp.Timestamp{Seconds: tm.Seconds, Nanos: tm.Nanos})
	if err != nil {
		t.Fatal(err)
	}
	fmt.Println(utils.InterfaceToString(rawWriteReq))
}

func TestInfluxMeasurement_GetWriteRequest_Recommendation(t *testing.T) {
	var fedJeriResp fedemeter.FedRecommendationJeriResp
	err := json.Unmarshal([]byte(recommendation_response), &fedJeriResp)
	if err != nil {
		t.Fatal(err)
	}

	tm := ptypes.TimestampNow()
	iMes := NewInfluxMeasurement("alameda_fedemeter", 2, nil, nil, &fedJeriResp, 3600, true)
	rawWriteReq, err := iMes.GetWriteRequest(&timestamp.Timestamp{Seconds: tm.Seconds, Nanos: tm.Nanos})
	if err != nil {
		t.Fatal(err)
	}
	fmt.Println(utils.InterfaceToString(rawWriteReq))
}


var calculator_response =`{"calculator":[{"aws":[{"instances":{"nodename":"172-23-1-112","instancetype":"t2.medium","nodetype":"master","operatingsystem":"Linux","preinstalledsw":"NA","instancenum":"1","period":"1","unit":"month","description":"Running 1 Linux OS with NA application on t2.medium in US West (Oregon) region during 1 month will cost 33.872 USD","cost":33.872,"cpu":0,"memory":0,"displayname":"t2.medium (2 CPUs, 4 GB)"},"storage":[{"volumetype":"General Purpose","storagesize":"46","storagenum":"1","period":"1","unit":"month","description":"Using 1 (46 GB) General Purpose storage in US West (Oregon) region during 1 month will cost 4.6000000000000005 USD","cost":0,"displayname":"General Purpose"}],"totalcost":38.472,"region":"US West (Oregon)","status":"OK","gpu":{"gpuinstance":"","gpucores":"","gpunum":"","period":"","unit":"","description":"","cost":0,"displayname":""}},{"instances":{"nodename":"172-23-1-67","instancetype":"c4.xlarge","nodetype":"worker","operatingsystem":"Linux","preinstalledsw":"NA","instancenum":"1","period":"1","unit":"month","description":"Running 1 Linux OS with NA application on c4.xlarge in US West (Oregon) region during 1 month will cost 145.27 USD","cost":145.27,"cpu":0,"memory":0,"displayname":"c4.xlarge (4 CPUs, 7.5 GB)"},"storage":[{"volumetype":"General Purpose","storagesize":"46","storagenum":"1","period":"1","unit":"month","description":"Using 1 (46 GB) General Purpose storage in US West (Oregon) region during 1 month will cost 4.6000000000000005 USD","cost":0,"displayname":"General Purpose"}],"totalcost":149.87,"region":"US West (Oregon)","status":"OK","gpu":{"gpuinstance":"","gpucores":"","gpunum":"","period":"","unit":"","description":"","cost":0,"displayname":""}},{"instances":{"nodename":"172-23-1-63","instancetype":"c4.xlarge","nodetype":"worker","operatingsystem":"Linux","preinstalledsw":"NA","instancenum":"1","period":"1","unit":"month","description":"Running 1 Linux OS with NA application on c4.xlarge in US West (Oregon) region during 1 month will cost 145.27 USD","cost":145.27,"cpu":0,"memory":0,"displayname":"c4.xlarge (4 CPUs, 7.5 GB)"},"storage":[{"volumetype":"General Purpose","storagesize":"46","storagenum":"1","period":"1","unit":"month","description":"Using 1 (46 GB) General Purpose storage in US West (Oregon) region during 1 month will cost 4.6000000000000005 USD","cost":0,"displayname":"General Purpose"}],"totalcost":149.87,"region":"US West (Oregon)","status":"OK","gpu":{"gpuinstance":"","gpucores":"","gpunum":"","period":"","unit":"","description":"","cost":0,"displayname":""}}]}],"count":1,"limit":20,"page":0,"offset":0,"total":1,"incomplete":false}`
var recommendation_response = `{"resource":{"Royal Grass":{"aws":[{"aws":{"region":"US West (Oregon)","t2.medium":[{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.0993835615890411,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566803755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.1987671231780822,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566807355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.2981506847671233,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566810955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.3975342463561644,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566814555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.4969178079452055,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566818155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.5963013695342466,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566821755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.6956849311232877,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566825355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.7950684927123287,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566828955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.8944520543013698,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566832555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":0.9938356158904108,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566836155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.093219177479452,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566839755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.1926027390684932,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566843355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.2919863006575345,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566846955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.3913698622465758,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566850555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.490753423835617,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566854155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.5901369854246583,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566857755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.6895205470136996,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566861355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.7889041086027409,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566864955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.8882876701917821,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566868555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":1.9876712317808234,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566872155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":2.087054793369864,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566875755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":2.1864383549589053,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566879355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":2.2858219165479463,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566882955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.0189041095890411,"acc_cost":2.3852054781369874,"displayname":"t2.medium (2.0 CPUs, 4.0 GB)","timestamp":1566886555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.080479452,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0}]}},{"azure":{"region":"West US 2","standard-f2":[{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":0.19797164383561644,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566803755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":0.3959432876712329,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566807355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":0.5939149315068493,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566810955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":0.7918865753424658,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566814555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":0.9898582191780823,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566818155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":1.1878298630136988,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566821755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":1.3858015068493152,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566825355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":1.5837731506849317,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566828955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":1.7817447945205482,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566832555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":1.9797164383561647,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566836155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":2.177688082191781,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566839755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":2.375659726027397,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566843355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":2.5736313698630133,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566846955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":2.7716030136986296,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566850555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":2.969574657534246,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566854155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":3.167546301369862,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566857755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":3.3655179452054784,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566861355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":3.5634895890410947,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566864955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":3.761461232876711,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566868555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":3.9594328767123272,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566872155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":4.157404520547943,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566875755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":4.355376164383559,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566879355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":4.553347808219175,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566882955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.01236164383561644,"acc_cost":4.751319452054791,"displayname":"standard-f2 (2.0 CPUs, 4.0 GB)","timestamp":1566886555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.18561,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0}]}},{"gcp":{"n1-standard-2":[{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":0.18696164383561645,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566803755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":0.37392328767123284,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566807355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":0.5608849315068493,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566810955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":0.7478465753424657,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566814555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":0.9348082191780821,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566818155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":1.1217698630136985,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566821755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":1.308731506849315,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566825355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":1.4956931506849316,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566828955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":1.6826547945205481,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566832555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":1.8696164383561646,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566836155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":2.056578082191781,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566839755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":2.243539726027397,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566843355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":2.430501369863013,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566846955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":2.617463013698629,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566850555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":2.8044246575342453,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566854155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":2.9913863013698614,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566857755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":3.1783479452054775,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566861355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":3.3653095890410936,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566864955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":3.5522712328767097,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566868555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":3.7392328767123257,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566872155,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":3.926194520547942,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566875755,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":4.113156164383558,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566879355,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":4.300117808219175,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566882955,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0},{"master_num":1,"worker_num":2,"master_storage_size":46.0,"worker_storage_size":92.0,"storage_cost":0.007561643835616439,"acc_cost":4.487079452054792,"displayname":"n1-standard-2 (2.0 CPUs, 7.5 GB)","timestamp":1566886555,"ondemand_cost":0.0,"ondemand_num":0,"ri_cost":0.1794,"ri_num":3,"master_ri_num":1,"worker_ri_num":2,"master_ondemand_num":0,"worker_ondemand_num":0}],"region":"US West 1b"}}]}},"count":1,"limit":20,"page":0,"offset":0,"total":1,"incomplete":false}
`